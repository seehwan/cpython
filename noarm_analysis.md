# noarm.tex 분석 노트

## 개요
- 문서는 CPython 3.13/3.14의 copy-and-patch JIT을 대상으로 스텐실 재사용성과 트램폴린 의존성을 이용한 익스플로잇을 소개하며, x86_64에서 셸코드 실행과 ROP 체인이 가능함을 주장합니다.【F:noarm.tex†L69-L122】
- 제목과 초록, 본문의 일부에 편집용 주석(`\ypkim`, `\shyoo`)과 익명 저자 정보가 남아 있어 정리 단계가 완료되지 않았습니다.【F:noarm.tex†L46-L80】【F:noarm.tex†L48-L67】

## 구성 및 핵심 내용
- **JIT 개요와 파이프라인**: Figure\ref{fig:tiered-2-jit}와 함께 두 단계(Tier-1 인터프리터, Tier-2 JIT) 모델을 설명하고, 스텐실 기반 코드 생성 과정을 다섯 단계(버퍼 할당→스텐실 선택→코드/데이터 패치→트램폴린 생성→캐시 플러시 및 보호)로 정리합니다.【F:noarm.tex†L138-L158】
- **JIT 내부 동작**: 실행기 버퍼의 RW→RX 전환 예시(`mmap`/`mprotect`), 스텐실 선택, 코드 패치, 함수 포인터 테이블에 대한 패칭(`patch_64`, `patch_x86_64_32rx`)과 트램폴린 사용 사례를 제시합니다.【F:noarm.tex†L169-L283】
- **공격면 정의**: 스텐실 재사용으로 인한 코드 예측 가능성, 패치 가능한 즉치값, 트램폴린을 통한 간접 분기, ROP 가젯 존재, `mprotect` 재호출을 통한 권한 복귀 등 다섯 가지 위험을 열거합니다.【F:noarm.tex†L285-L308】
- **위협 모델**: 자산(JIT 코드, 런타임 메타데이터), 공격자 능력(바이트코드 실행과 내부 메타데이터 조회), 목표(제어 흐름 전환·ASLR/DEP 우회·任의 코드 실행), 가정(ASLR/DEP/AppArmor 활성화), 범위 밖(Spectre/Meltdown 등)으로 구분해 서술합니다.【F:noarm.tex†L316-L343】
- **공격 벡터**: JIT 스프레이, 스텐실 재사용 기반 StencilLeak 가젯 발견, (주석 처리된) 트램폴린 하이재킹 시나리오를 설명하고 표로 요약합니다.【F:noarm.tex†L344-L387】
- **Stencilleak ROP 전개**: 가젯 패턴(pop/ret, mov+jmp), 오프셋 예측 가능성, 내부 API(`get_executor()`)를 통한 JIT 영역 주소 노출, 가젯 스캔 및 체인 생성의 3단계 공격 흐름을 제시합니다.【F:noarm.tex†L389-L439】

## 관찰된 강점
- 스텐실 재사용과 데이터/코드 패치 흐름을 코드 스니펫과 함께 제시해 복구 가능성을 높였습니다.【F:noarm.tex†L169-L283】
- 공격면과 위협 모델을 명시적으로 구분하여 실험·논증 섹션의 기반을 마련합니다.【F:noarm.tex†L285-L343】

## 개선 필요 지점
- AArch64 관련 설명이 주석 처리되거나 삭제되어 아키텍처 범위가 불명확합니다. x86_64로 축소했다면 초록·서론·전반부에서 일관되게 정리할 필요가 있습니다.【F:noarm.tex†L73-L80】【F:noarm.tex†L138-L158】
- 트램폴린 하이재킹 부분이 `comment` 환경으로 비활성화되어 있어 공격 체인의 완결성이 떨어집니다.【F:noarm.tex†L356-L370】
- 저자·연락처·히스토리 정보가 템플릿 기본값 상태라 출판 준비가 덜 된 인상을 줍니다.【F:noarm.tex†L48-L67】
- StencilLeak 가젯 수량, 오프셋 분포, 실험 조건 등의 정량 데이터가 부재하여 주장 검증에 필요한 근거가 부족합니다. 향후 섹션에서 구체적 메트릭을 보완해야 합니다.【F:noarm.tex†L394-L405】

## 제안된 후속 작업 아이디어
- 트램폴린 하이재킹 서브섹션을 활성화하거나 요약본을 유지하되, x86_64 기준 실험 결과를 추가하여 공격 시나리오를 완성합니다.【F:noarm.tex†L356-L370】
- 초록·서론·배경의 아키텍처 범위를 통일하고, 편집용 색상 명령(`\ypkim`, `\shyoo`)을 정리한 최종 문구로 교체합니다.【F:noarm.tex†L46-L123】【F:noarm.tex†L138-L158】
- StencilLeak ROP 단계에 실제 가젯 위치·개수와 주소 누출 API 사용 예시를 표나 그래프로 넣어 재현성을 높입니다.【F:noarm.tex†L389-L439】
